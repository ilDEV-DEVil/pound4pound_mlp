import{a as V}from"./chunk-WJ25AHNC.js";import{a as A,b as Q}from"./chunk-6QFD7KQO.js";import{e as N,g as F,o as j}from"./chunk-IP5XSDYW.js";import{d as D}from"./chunk-OVG7FD3K.js";import"./chunk-SV66IFOS.js";import"./chunk-GPLNY3OJ.js";import{Ca as v,Ib as T,Kb as z,La as c,Ma as p,O as _,Pa as P,Qa as y,Sa as n,T as C,Ta as i,U as x,Ya as h,_a as s,ab as d,ea as M,hb as f,jb as a,kb as b,lb as u,mb as O,ob as S,pb as w,qb as k,ra as m,ub as E,vb as I}from"./chunk-BEVKRHCI.js";var B=(r,e)=>e.id;function U(r,e){r&1&&(n(0,"span",21),a(1,"Attivo"),i())}function W(r,e){r&1&&(n(0,"span",22),a(1,"Scaduto"),i())}function Y(r,e){if(r&1&&(n(0,"div",27)(1,"span",28),a(2,"\u{1F4DE}"),i(),n(3,"span",29),a(4),i()()),r&2){let t=d().$implicit;m(4),b(t.phone)}}function $(r,e){if(r&1){let t=h();n(0,"div",17),s("click",function(){let l=C(t).$implicit,g=d(2);return x(g.goToDetail(l))}),n(1,"div",18)(2,"div",19),a(3),i(),n(4,"div",20),c(5,U,2,0,"span",21)(6,W,2,0,"span",22),i()(),n(7,"div",23)(8,"h3",24),a(9),i(),n(10,"p",25),a(11),i(),n(12,"div",26)(13,"div",27)(14,"span",28),a(15,"\u{1F4C5}"),i(),n(16,"span",29),a(17),E(18,"date"),i()(),c(19,Y,5,1,"div",27),i()(),n(20,"div",30)(21,"span",31),a(22," Vedi dettagli \u2192 "),i()()()}if(r&2){let t=e.$implicit,o=d(2);m(3),u(" ",o.getInitials(t)," "),m(2),p(t.subscriptionId?5:6),m(4),O("",t.firstName," ",t.lastName),m(2),b(t.email),m(6),u("Iscritto ",I(18,7,t.joinedAt,"dd/MM/yyyy")),m(2),p(t.phone?19:-1)}}function q(r,e){if(r&1&&(n(0,"div",14),P(1,$,23,10,"div",16,B),i()),r&2){let t=d();m(),y(t.filteredMembers())}}function G(r,e){if(r&1&&a(0),r&2){let t=d(2);u(' Nessun risultato per "',t.searchQuery,'" ')}}function R(r,e){r&1&&a(0," Non ci sono ancora iscritti. Inizia aggiungendone uno! ")}function H(r,e){if(r&1){let t=h();n(0,"app-button",5),s("clicked",function(){C(t);let l=d(2);return x(l.openAddModal())}),a(1," Aggiungi primo iscritto "),i()}}function J(r,e){if(r&1&&(n(0,"div",15)(1,"div",32),a(2,"\u{1F465}"),i(),n(3,"h3",33),a(4,"Nessun iscritto trovato"),i(),n(5,"p",34),c(6,G,1,1)(7,R,1,0),i(),c(8,H,2,0,"app-button"),i()),r&2){let t=d();m(6),p(t.searchQuery?6:7),m(2),p(t.searchQuery?-1:8)}}var L=class r{memberService=_(V);router=_(D);searchQuery="";filterStatus="all";allMembers=M([]);filteredMembers=M([]);constructor(){this.refresh()}refresh(){this.memberService.getMembers().subscribe(e=>{this.allMembers.set(e),this.filterMembers()})}filterMembers(){let e=this.allMembers();if(this.searchQuery){let t=this.searchQuery.toLowerCase();e=e.filter(o=>o.firstName.toLowerCase().includes(t)||o.lastName.toLowerCase().includes(t)||o.email.toLowerCase().includes(t))}this.filterStatus==="active"?e=e.filter(t=>!!t.subscriptionId):this.filterStatus==="expired"&&(e=e.filter(t=>!t.subscriptionId)),this.filteredMembers.set(e)}setFilter(e){this.filterStatus=e,this.filterMembers()}getInitials(e){return(e.firstName[0]+e.lastName[0]).toUpperCase()}goToDetail(e){this.router.navigate(["/app/members",e.id])}openAddModal(){alert("Funzionalit\xE0 Modale Aggiunta in arrivo nel prossimo step!")}get totalCount(){return this.allMembers().length}get activeCount(){return this.allMembers().filter(e=>!!e.subscriptionId).length}get expiredCount(){return this.allMembers().filter(e=>!e.subscriptionId).length}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=v({type:r,selectors:[["app-members"]],decls:34,vars:11,consts:[[1,"members-container"],[1,"members-header"],[1,"header-top"],[1,"page-title"],[1,"page-subtitle"],[3,"clicked"],[1,"filters-section"],[1,"search-wrapper"],["type","search","placeholder","Cerca per nome, cognome o email...",3,"ngModelChange","ngModel"],[1,"filter-tabs"],[1,"filter-tab",3,"click"],[1,"tab-label"],[1,"tab-count"],[1,"members-content"],[1,"members-grid"],[1,"empty-state"],[1,"member-card"],[1,"member-card",3,"click"],[1,"member-card-header"],[1,"member-avatar"],[1,"member-status"],[1,"status-badge","active"],[1,"status-badge","expired"],[1,"member-card-body"],[1,"member-name"],[1,"member-email"],[1,"member-meta"],[1,"meta-item"],[1,"meta-icon"],[1,"meta-text"],[1,"member-card-footer"],[1,"view-details"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-message"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),a(5,"Gestione Iscritti"),i(),n(6,"p",4),a(7,"Amministra i membri della tua palestra"),i()(),n(8,"app-button",5),s("clicked",function(){return o.openAddModal()}),n(9,"span"),a(10,"+"),i(),a(11," Nuovo Iscritto "),i()(),n(12,"div",6)(13,"div",7)(14,"app-input",8),k("ngModelChange",function(g){return w(o.searchQuery,g)||(o.searchQuery=g),g}),s("ngModelChange",function(){return o.filterMembers()}),i()(),n(15,"div",9)(16,"button",10),s("click",function(){return o.setFilter("all")}),n(17,"span",11),a(18,"Tutti"),i(),n(19,"span",12),a(20),i()(),n(21,"button",10),s("click",function(){return o.setFilter("active")}),n(22,"span",11),a(23,"Attivi"),i(),n(24,"span",12),a(25),i()(),n(26,"button",10),s("click",function(){return o.setFilter("expired")}),n(27,"span",11),a(28,"Scaduti"),i(),n(29,"span",12),a(30),i()()()()(),n(31,"div",13),c(32,q,3,0,"div",14)(33,J,9,2,"div",15),i()()),t&2&&(m(14),S("ngModel",o.searchQuery),m(2),f("active",o.filterStatus==="all"),m(4),b(o.totalCount),m(),f("active",o.filterStatus==="active"),m(4),b(o.activeCount),m(),f("active",o.filterStatus==="expired"),m(4),b(o.expiredCount),m(2),p(o.filteredMembers().length>0?32:33))},dependencies:[z,j,N,F,A,Q,T],styles:[".members-container[_ngcontent-%COMP%]{background:#c7d6d5;min-height:100vh;padding:2rem}.members-header[_ngcontent-%COMP%]{margin-bottom:2rem}.header-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;background:#fff9;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(0,0,0,.08);border-radius:1rem;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 4px 12px #0000000a}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1a1d21;margin:0 0 .25rem}.page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568;margin:0}.filters-section[_ngcontent-%COMP%]{background:#fff9;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(0,0,0,.08);border-radius:1rem;padding:1.5rem;box-shadow:0 4px 12px #0000000a}.search-wrapper[_ngcontent-%COMP%]{margin-bottom:1.25rem}.filter-tabs[_ngcontent-%COMP%]{display:flex;gap:.5rem;background:#00000005;padding:.5rem;border-radius:.75rem}.filter-tab[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.25rem;border-radius:.5rem;background:transparent;border:none;color:#4a5568;font-weight:600;font-size:.875rem;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1)}.filter-tab[_ngcontent-%COMP%]:hover{background:#ffffff80;color:#1a1d21}.filter-tab.active[_ngcontent-%COMP%]{background:#fff;color:#3066be;box-shadow:0 4px 8px #0000000f}.filter-tab.active[_ngcontent-%COMP%]   .tab-count[_ngcontent-%COMP%]{background:#3066be;color:#fff}.tab-label[_ngcontent-%COMP%]{font-size:.875rem}.tab-count[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:24px;height:24px;padding:0 .5rem;background:#0000000f;border-radius:9999px;font-size:11px;font-weight:700;transition:all .3s}.members-content[_ngcontent-%COMP%]{min-height:400px}.members-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem}.member-card[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:.75rem;padding:1.5rem;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 6px #00000005}.member-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 24px #00000014;border-color:#3066be}.member-card[_ngcontent-%COMP%]:hover   .member-avatar[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 8px 16px #0003}.member-card[_ngcontent-%COMP%]:hover   .view-details[_ngcontent-%COMP%]{color:#3066be;transform:translate(4px)}.member-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1.25rem}.member-avatar[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:9999px;background:linear-gradient(135deg,#e71d36,#3066be);display:flex;align-items:center;justify-content:center;font-size:1.25rem;font-weight:700;color:#fff;box-shadow:0 6px 12px #0000001f;transition:all .3s}.member-status[_ngcontent-%COMP%]{display:flex}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:9999px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.05em;border:2px solid}.status-badge.active[_ngcontent-%COMP%]{background:#10b9811a;color:#10b981;border-color:#10b9814d}.status-badge.expired[_ngcontent-%COMP%]{background:#e71d361a;color:#e71d36;border-color:#e71d364d}.member-card-body[_ngcontent-%COMP%]{margin-bottom:1.25rem}.member-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1a1d21;margin:0 0 .25rem}.member-email[_ngcontent-%COMP%]{font-size:.875rem;color:#4a5568;margin:0 0 1rem}.member-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#4a5568}.meta-icon[_ngcontent-%COMP%]{font-size:16px;opacity:.7}.meta-text[_ngcontent-%COMP%]{font-size:.75rem}.member-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:1rem;border-top:1px solid rgba(0,0,0,.08)}.view-details[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;color:#4a5568;transition:all .3s}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center;background:#fff6;border:2px dashed rgba(0,0,0,.08);border-radius:1rem}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:1.25rem;opacity:.5}.empty-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1a1d21;margin:0 0 .5rem}.empty-message[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568;margin:0 0 1.5rem;max-width:400px}@media(max-width:768px){.members-container[_ngcontent-%COMP%]{padding:1rem}.header-top[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}.header-top[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{width:100%}.members-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.filter-tabs[_ngcontent-%COMP%]{flex-direction:column}.filter-tab[_ngcontent-%COMP%]{justify-content:space-between}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.member-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .4s ease-out backwards}.member-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.05s}.member-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.1s}.member-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.15s}.member-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.2s}.member-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.25s}.member-card[_ngcontent-%COMP%]:nth-child(6){animation-delay:.3s}.member-card[_ngcontent-%COMP%]:nth-child(7){animation-delay:.35s}.member-card[_ngcontent-%COMP%]:nth-child(8){animation-delay:.4s}.member-card[_ngcontent-%COMP%]:nth-child(9){animation-delay:.45s}.member-card[_ngcontent-%COMP%]:nth-child(10){animation-delay:.5s}.member-card[_ngcontent-%COMP%]:nth-child(11){animation-delay:.55s}.member-card[_ngcontent-%COMP%]:nth-child(12){animation-delay:.6s}"]})};export{L as MembersComponent};
