import{a as y}from"./chunk-GBL3DOWD.js";import{J as l,O as p,a as m,j as i,y as o}from"./chunk-NOC6AZNP.js";var g=class d{storage=p(y);constructor(){this.ensureData()}ensureData(){if(!this.storage.getItem("courses")){let e=this.generateMockCourses();this.storage.setItem("courses",e)}}getCourses(){let e=this.storage.getItem("courses")||[];return i(e).pipe(o(500))}addCourse(e){let t=this.storage.getItem("courses")||[],r={id:`c-${Date.now()}`,gymId:"gym-001",name:e.name,description:e.description||"",instructor:e.instructor,sport:e.sport||"boxing",maxCapacity:e.maxCapacity||20,schedule:e.schedule||[],enrolledMembers:[]};return t.push(r),this.storage.setItem("courses",t),i(r).pipe(o(600))}deleteLesson(e,t,r){let s=this.storage.getItem("courses")||[],a=e.replace("course-","c-"),u=s.findIndex(n=>n.id===e||n.id===a);if(u!==-1){let n=s[u],h=n.schedule.length;return n.schedule=n.schedule.filter(c=>!(c.day===t&&c.startTime===r)),this.storage.setItem("courses",s),i(!0).pipe(o(500))}return i(!1).pipe(o(500))}updateCourse(e,t){let r=this.storage.getItem("courses")||[],s=r.findIndex(a=>a.id===e);return s!==-1?(r[s]=m(m({},r[s]),t),this.storage.setItem("courses",r),i(r[s]).pipe(o(500))):i(null).pipe(o(500))}deleteCourse(e){let t=this.storage.getItem("courses")||[],r=e.replace("course-","c-"),s=t.filter(a=>a.id!==e&&a.id!==r);return s.length!==t.length?(this.storage.setItem("courses",s),i(!0).pipe(o(500))):i(!1).pipe(o(500))}bookClass(e,t,r){return i(!0).pipe(o(800))}generateMockCourses(){return[{id:"c-001",gymId:"gym-001",name:"Boxe Principianti",description:"Corso base per imparare i fondamenti della nobile arte.",instructor:"Marco Rossi",sport:"boxing",maxCapacity:20,enrolledMembers:[],schedule:[{day:"monday",startTime:"18:00",endTime:"19:00"},{day:"wednesday",startTime:"18:00",endTime:"19:00"},{day:"friday",startTime:"18:00",endTime:"19:00"}]},{id:"c-002",gymId:"gym-001",name:"MMA Pro",description:"Allenamento avanzato per competizioni.",instructor:"Giulia Neri",sport:"mma",maxCapacity:12,enrolledMembers:[],schedule:[{day:"tuesday",startTime:"19:30",endTime:"21:00"},{day:"thursday",startTime:"19:30",endTime:"21:00"}]},{id:"c-003",gymId:"gym-001",name:"Muay Thai",description:"L'arte delle 8 armi.",instructor:"Andrea Verdi",sport:"muaythai",maxCapacity:15,enrolledMembers:[],schedule:[{day:"monday",startTime:"19:00",endTime:"20:30"},{day:"wednesday",startTime:"19:00",endTime:"20:30"},{day:"friday",startTime:"19:00",endTime:"20:30"}]},{id:"c-004",gymId:"gym-001",name:"Grappling / BJJ no-gi",description:"Lotta a terra senza kimono.",instructor:"Simone Bianchi",sport:"bjj",maxCapacity:15,enrolledMembers:[],schedule:[{day:"tuesday",startTime:"18:00",endTime:"19:30"},{day:"thursday",startTime:"18:00",endTime:"19:30"},{day:"saturday",startTime:"10:30",endTime:"12:00"}]}]}static \u0275fac=function(t){return new(t||d)};static \u0275prov=l({token:d,factory:d.\u0275fac,providedIn:"root"})};export{g as a};
