import{a as x}from"./chunk-GWL7JQXT.js";import{a as R}from"./chunk-6QFD7KQO.js";import"./chunk-IP5XSDYW.js";import{d as b}from"./chunk-OVG7FD3K.js";import"./chunk-SV66IFOS.js";import"./chunk-GPLNY3OJ.js";import{Ca as f,Hb as _,Kb as C,O as a,Ra as h,Sa as e,Ta as t,Ua as c,_a as s,a as u,b as g,hb as d,jb as n,lb as v,ra as l}from"./chunk-BEVKRHCI.js";var S=class m{router=a(b);location=a(_);authService=a(x);userData;password;selectedRole=null;loading=!1;constructor(){let i=this.location.getState();i?.userData?(this.userData=i.userData,this.password=i.password):this.router.navigate(["/auth/register"])}selectRole(i){this.selectedRole=i}confirmRole(){if(!this.selectedRole||!this.userData)return;this.loading=!0;let i=g(u({},this.userData),{role:this.selectedRole});this.authService.register(i,this.password).subscribe({next:()=>{this.selectedRole==="manager"?this.router.navigate(["/onboarding/profile-setup"]):this.router.navigate(["/onboarding/profile-setup"])},error:r=>{this.loading=!1,alert("Errore durante la registrazione: "+r.message)}})}static \u0275fac=function(r){return new(r||m)};static \u0275cmp=f({type:m,selectors:[["app-role-selection"]],decls:28,vars:7,consts:[[1,"role-selection-container"],[1,"mb-8","text-center"],[1,"h2","mb-2"],[1,"text-muted"],[1,"text-xs","text-warning","mt-2"],[1,"grid","md:grid-cols-2","gap-4"],[1,"role-card",3,"click"],[1,"role-icon"],[1,"role-title"],[1,"role-desc"],[1,"selection-indicator"],[1,"mt-8","flex","justify-center"],["size","lg",1,"min-w-[200px]",3,"clicked","disabled","loading"]],template:function(r,o){r&1&&(e(0,"div",0)(1,"div",1)(2,"h2",2),n(3),t(),e(4,"p",3),n(5,"Per iniziare, dicci come userai Pound for Pound."),t(),e(6,"p",4),n(7,"\u26A0 Questa scelta non potr\xE0 essere modificata successivamente."),t()(),e(8,"div",5)(9,"div",6),s("click",function(){return o.selectRole("manager")}),e(10,"div",7),n(11,"\u{1F3E2}"),t(),e(12,"h3",8),n(13,"Gestore Palestra"),t(),e(14,"p",9),n(15," Voglio gestire la mia palestra, i miei corsi e i miei iscritti. "),t(),c(16,"div",10),t(),e(17,"div",6),s("click",function(){return o.selectRole("athlete")}),e(18,"div",7),n(19,"\u{1F94A}"),t(),e(20,"h3",8),n(21,"Atleta"),t(),e(22,"p",9),n(23," Voglio iscrivermi ai corsi e monitorare i miei progressi. "),t(),c(24,"div",10),t()(),e(25,"div",11)(26,"app-button",12),s("clicked",function(){return o.confirmRole()}),n(27," Continua "),t()()()),r&2&&(l(3),v("Benvenuto, ",o.userData==null?null:o.userData.firstName,"!"),l(6),d("selected",o.selectedRole==="manager"),l(8),d("selected",o.selectedRole==="athlete"),l(9),h("disabled",!o.selectedRole)("loading",o.loading))},dependencies:[C,R],styles:['@charset "UTF-8";.role-selection-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.role-card[_ngcontent-%COMP%]{background:#252830;border:2px solid rgba(255,255,255,.08);border-radius:12px;padding:1.5rem;cursor:pointer;transition:all .2s ease;position:relative;display:flex;flex-direction:column;align-items:center;text-align:center}.role-card[_ngcontent-%COMP%]:hover{border-color:#ffffff1f;transform:translateY(-2px)}.role-card.selected[_ngcontent-%COMP%]{border-color:#d18a3c;background:#d18a3c0d}.role-card.selected[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.role-card.selected[_ngcontent-%COMP%]   .selection-indicator[_ngcontent-%COMP%]{background-color:#d18a3c;border-color:#d18a3c}.role-card.selected[_ngcontent-%COMP%]   .selection-indicator[_ngcontent-%COMP%]:after{content:"\\2713";color:#1a1d21;font-size:14px;font-weight:700}.role-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:1rem;transition:transform .2s ease}.role-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;margin-bottom:.5rem;color:#fff}.role-desc[_ngcontent-%COMP%]{font-size:.875rem;color:#9a9ea5;line-height:1.5}.selection-indicator[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;border:2px solid rgba(255,255,255,.12);margin-top:1rem;display:flex;align-items:center;justify-content:center;transition:all .15s ease}']})};export{S as RoleSelectionComponent};
