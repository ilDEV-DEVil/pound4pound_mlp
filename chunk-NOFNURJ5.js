import{a as Y}from"./chunk-YI2SG4R4.js";import{a as R,b as q}from"./chunk-A2XKNEVR.js";import{c as D,d as m,e as w,f as z,h as V,i as T,j as N,k as I,l as F,m as j,n as A,p as B}from"./chunk-4WTB7YEB.js";import"./chunk-GBL3DOWD.js";import{Ea as P,Mb as k,Na as f,O as v,Oa as b,Ra as S,Sa as y,T as p,Ta as x,U as u,Ua as e,Va as t,Wa as g,_a as _,ab as l,cb as d,ea as h,kb as E,lb as i,mb as C,nb as O,sa as s}from"./chunk-NOC6AZNP.js";var J=(r,o)=>o.id;function L(r,o){if(r&1){let n=_();e(0,"div",6)(1,"div",10)(2,"h2",11),i(3,"Crea Nuovo Corso"),t(),e(4,"button",12),l("click",function(){p(n);let a=d();return u(a.cancelCreate())}),i(5,"\u2715"),t()(),e(6,"form",13),l("ngSubmit",function(){p(n);let a=d();return u(a.onSubmit())}),e(7,"div",14)(8,"div",15)(9,"div",16),g(10,"app-input",17),t(),e(11,"div",16),g(12,"app-input",18),t()(),e(13,"div",15)(14,"div",16)(15,"label",19),i(16,"SPORT"),t(),e(17,"select",20)(18,"option",21),i(19,"\u{1F94A} Boxe"),t(),e(20,"option",22),i(21,"\u{1F9B6} Kickboxing"),t(),e(22,"option",23),i(23,"\u{1F93C} MMA"),t(),e(24,"option",24),i(25,"\u{1F94B} Muay Thai"),t(),e(26,"option",25),i(27,"\u{1F40D} Brazilian Jiu-Jitsu"),t()()(),e(28,"div",16),g(29,"app-input",26),t()(),e(30,"div",16)(31,"label",19),i(32,"DESCRIZIONE"),t(),g(33,"textarea",27),t()(),e(34,"div",28)(35,"app-button",29),l("clicked",function(){p(n);let a=d();return u(a.cancelCreate())}),i(36," Annulla "),t(),e(37,"app-button",30),i(38," Crea Corso "),t()()()()}if(r&2){let n=d();s(6),x("formGroup",n.form),s(31),x("loading",n.loading)("disabled",n.form.invalid)}}function $(r,o){if(r&1){let n=_();e(0,"div",6)(1,"div",10)(2,"h2",11),i(3,"Modifica Corso"),t(),e(4,"button",12),l("click",function(){p(n);let a=d();return u(a.cancelEdit())}),i(5,"\u2715"),t()(),e(6,"form",13),l("ngSubmit",function(){p(n);let a=d();return u(a.onEditSubmit())}),e(7,"div",14)(8,"div",15)(9,"div",16),g(10,"app-input",17),t(),e(11,"div",16),g(12,"app-input",18),t()(),e(13,"div",15)(14,"div",16)(15,"label",19),i(16,"SPORT"),t(),e(17,"select",20)(18,"option",21),i(19,"\u{1F94A} Boxe"),t(),e(20,"option",22),i(21,"\u{1F9B6} Kickboxing"),t(),e(22,"option",23),i(23,"\u{1F93C} MMA"),t(),e(24,"option",24),i(25,"\u{1F94B} Muay Thai"),t(),e(26,"option",25),i(27,"\u{1F40D} Brazilian Jiu-Jitsu"),t()()(),e(28,"div",16),g(29,"app-input",26),t()(),e(30,"div",16)(31,"label",19),i(32,"DESCRIZIONE"),t(),g(33,"textarea",27),t()(),e(34,"div",28)(35,"app-button",29),l("clicked",function(){p(n);let a=d();return u(a.cancelEdit())}),i(36," Annulla "),t(),e(37,"app-button",30),i(38," Salva Modifiche "),t()()()()}if(r&2){let n=d();s(6),x("formGroup",n.editForm),s(31),x("loading",n.editLoading)("disabled",n.editForm.invalid)}}function K(r,o){if(r&1&&(e(0,"p",42),i(1),t()),r&2){let n=d().$implicit;s(),C(n.description)}}function U(r,o){if(r&1){let n=_();e(0,"div",32)(1,"div",33)(2,"div",34)(3,"span",35),i(4),t()(),e(5,"div",36),i(6),t()(),e(7,"div",37)(8,"h3",38),i(9),t(),e(10,"div",39)(11,"span",40),i(12,"\u{1F94B}"),t(),e(13,"span",41),i(14),t()(),f(15,K,2,1,"p",42),e(16,"div",43)(17,"div",44)(18,"span",45),i(19,"\u{1F465}"),t(),e(20,"span",46),i(21),t()(),e(22,"div",44)(23,"span",45),i(24,"\u{1F4C5}"),t(),e(25,"span",46),i(26),t()()()(),e(27,"div",47)(28,"button",48),l("click",function(){let a=p(n).$implicit,M=d(2);return u(M.openEditMode(a))}),e(29,"span"),i(30,"\u270F\uFE0F"),t(),i(31," Modifica "),t(),e(32,"button",49),l("click",function(){let a=p(n).$implicit,M=d(2);return u(M.deleteCourse(a))}),e(33,"span"),i(34,"\u{1F5D1}\uFE0F"),t(),i(35," Elimina "),t()()()}if(r&2){let n=o.$implicit,c=d(2);E("sport-"+n.sport),s(4),C(c.getSportIcon(n.sport)),s(2),C(c.getSportLabel(n.sport)),s(3),C(n.name),s(5),C(n.instructor),s(),b(n.description?15:-1),s(6),O("Max ",n.maxCapacity," persone"),s(5),O("",c.getScheduleCount(n)," lezioni/settimana")}}function Z(r,o){if(r&1&&(e(0,"div",8),S(1,U,36,9,"div",31,J),t()),r&2){let n=d();s(),y(n.courses())}}function H(r,o){if(r&1){let n=_();e(0,"div",9)(1,"div",50),i(2,"\u{1F94A}"),t(),e(3,"h3",51),i(4,"Nessun corso disponibile"),t(),e(5,"p",52),i(6," Inizia creando il tuo primo corso per organizzare le attivit\xE0 della palestra. "),t(),e(7,"app-button",5),l("clicked",function(){p(n);let a=d();return u(a.openCreateMode())}),i(8," Crea primo corso "),t()()}}var G=class r{courseService=v(Y);fb=v(A);courses=h([]);isCreating=h(!1);editingCourse=h(null);loading=!1;editLoading=!1;form=this.fb.group({name:["",m.required],sport:["boxing",m.required],instructor:["",m.required],maxCapacity:[20,[m.required,m.min(1)]],description:[""]});editForm=this.fb.group({name:["",m.required],sport:["boxing",m.required],instructor:["",m.required],maxCapacity:[20,[m.required,m.min(1)]],description:[""]});constructor(){this.refresh()}refresh(){this.courseService.getCourses().subscribe(o=>this.courses.set(o))}openCreateMode(){this.isCreating.set(!0),this.form.reset({sport:"boxing",maxCapacity:20})}cancelCreate(){this.isCreating.set(!1)}openEditMode(o){this.isCreating.set(!1),this.editingCourse.set(o),this.editForm.patchValue({name:o.name,sport:o.sport,instructor:o.instructor,maxCapacity:o.maxCapacity,description:o.description||""})}cancelEdit(){this.editingCourse.set(null)}onEditSubmit(){let o=this.editingCourse();if(this.editForm.invalid||!o)return;this.editLoading=!0;let n=this.editForm.value;this.courseService.updateCourse(o.id,{name:n.name,sport:n.sport,instructor:n.instructor,maxCapacity:n.maxCapacity,description:n.description||""}).subscribe(()=>{this.editLoading=!1,this.editingCourse.set(null),this.refresh()})}onSubmit(){if(this.form.invalid)return;this.loading=!0;let o=this.form.value;this.courseService.addCourse({name:o.name,sport:o.sport,instructor:o.instructor,maxCapacity:o.maxCapacity,description:o.description||"",schedule:[]}).subscribe(()=>{this.loading=!1,this.isCreating.set(!1),this.refresh()})}deleteCourse(o){confirm(`Sei sicuro di voler eliminare il corso "${o.name}"?`)&&this.courseService.deleteCourse(o.id).subscribe(()=>{this.refresh()})}getSportIcon(o){return{boxing:"\u{1F94A}",kickboxing:"\u{1F9B6}",mma:"\u{1F93C}",muaythai:"\u{1F94B}",bjj:"\u{1F40D}"}[o]||"\u2753"}getSportLabel(o){return{boxing:"Boxe",kickboxing:"Kickboxing",mma:"MMA",muaythai:"Muay Thai",bjj:"BJJ"}[o]||o}getScheduleCount(o){return o.schedule?.length||0}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=P({type:r,selectors:[["app-courses"]],decls:17,vars:3,consts:[[1,"courses-container"],[1,"courses-header"],[1,"header-top"],[1,"page-title"],[1,"page-subtitle"],[3,"clicked"],[1,"form-card"],[1,"courses-content"],[1,"courses-grid"],[1,"empty-state"],[1,"form-header"],[1,"form-title"],[1,"close-btn",3,"click"],[1,"course-form",3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"form-row"],[1,"form-field"],["label","NOME CORSO","formControlName","name","placeholder","es. Boxe Principianti"],["label","ISTRUTTORE","formControlName","instructor","placeholder","es. Marco Rossi"],[1,"field-label"],["formControlName","sport",1,"select-field"],["value","boxing"],["value","kickboxing"],["value","mma"],["value","muaythai"],["value","bjj"],["label","CAPIENZA MASSIMA","type","number","formControlName","maxCapacity","placeholder","20"],["formControlName","description","placeholder","Descrizione del corso (opzionale)","rows","3",1,"textarea-field"],[1,"form-actions"],["variant","secondary","type","button",3,"clicked"],["type","submit",3,"loading","disabled"],[1,"course-card",3,"class"],[1,"course-card"],[1,"card-header"],[1,"sport-badge"],[1,"sport-icon"],[1,"sport-label"],[1,"card-body"],[1,"course-name"],[1,"instructor-info"],[1,"instructor-icon"],[1,"instructor-name"],[1,"course-description"],[1,"course-stats"],[1,"stat-badge"],[1,"stat-icon"],[1,"stat-text"],[1,"card-footer"],[1,"action-btn","edit",3,"click"],[1,"action-btn","delete",3,"click"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-message"]],template:function(n,c){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),i(5,"Gestione Corsi"),t(),e(6,"p",4),i(7,"Organizza e gestisci i corsi della tua palestra"),t()(),e(8,"app-button",5),l("clicked",function(){return c.openCreateMode()}),e(9,"span"),i(10,"+"),t(),i(11," Nuovo Corso "),t()()(),f(12,L,39,3,"div",6),f(13,$,39,3,"div",6),e(14,"div",7),f(15,Z,3,0,"div",8)(16,H,9,0,"div",9),t()()),n&2&&(s(12),b(c.isCreating()?12:-1),s(),b(c.editingCourse()?13:-1),s(2),b(c.courses().length>0?15:16))},dependencies:[k,B,V,F,j,D,I,w,z,N,T,R,q],styles:['.courses-container[_ngcontent-%COMP%]{background:#c7d6d5;min-height:100vh;padding:2rem}.courses-header[_ngcontent-%COMP%]{margin-bottom:2rem}.header-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;background:#fff9;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(0,0,0,.08);border-radius:1rem;padding:1.5rem;box-shadow:0 4px 12px #0000000a}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1a1d21;margin:0 0 .25rem}.page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568;margin:0}.form-card[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:1rem;padding:1.5rem;margin-bottom:2rem;box-shadow:0 8px 24px #00000014;animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.form-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:2px solid rgba(0,0,0,.08)}.form-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1a1d21;margin:0}.close-btn[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:9999px;background:#0000000a;border:none;color:#4a5568;font-size:1.25rem;cursor:pointer;transition:all .2s}.close-btn[_ngcontent-%COMP%]:hover{background:#e71d361a;color:#e71d36;transform:rotate(90deg)}.course-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.field-label[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;letter-spacing:.1em;color:#4a5568;font-weight:700}.select-field[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:#fff;border:2px solid rgba(0,0,0,.08);border-radius:.75rem;color:#1a1d21;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s;outline:none}.select-field[_ngcontent-%COMP%]:hover{border-color:#00000026}.select-field[_ngcontent-%COMP%]:focus{border-color:#3066be;box-shadow:0 0 0 3px #3066be33}.select-field[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:.5rem}.textarea-field[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;background:#fff;border:2px solid rgba(0,0,0,.08);border-radius:.75rem;color:#1a1d21;font-size:1rem;font-family:inherit;resize:vertical;transition:all .3s;outline:none}.textarea-field[_ngcontent-%COMP%]::placeholder{color:#4a5568;opacity:.5}.textarea-field[_ngcontent-%COMP%]:focus{border-color:#3066be;box-shadow:0 0 0 3px #3066be33}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;padding-top:1rem;border-top:1px solid rgba(0,0,0,.08)}.courses-content[_ngcontent-%COMP%]{min-height:400px}.courses-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:1.5rem}.course-card[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:1rem;overflow:hidden;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 6px #00000005;position:relative}.course-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:6px;background:linear-gradient(90deg,#e71d36,#3066be);transition:height .3s}.course-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 20px 40px #0000001a}.course-card[_ngcontent-%COMP%]:hover:before{height:8px}.course-card.sport-boxing[_ngcontent-%COMP%]:before{background:#dc2626}.course-card.sport-kickboxing[_ngcontent-%COMP%]:before{background:#ea580c}.course-card.sport-mma[_ngcontent-%COMP%]:before{background:#7c3aed}.course-card.sport-muaythai[_ngcontent-%COMP%]:before{background:#0891b2}.course-card.sport-bjj[_ngcontent-%COMP%]:before{background:#059669}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 1.5rem 1rem}.sport-badge[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:.75rem;background:linear-gradient(135deg,#e71d36,#3066be);display:flex;align-items:center;justify-content:center;box-shadow:0 8px 16px #00000026;transition:all .3s}.sport-boxing[_ngcontent-%COMP%]   .sport-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc2626,#b21d1d)}.sport-kickboxing[_ngcontent-%COMP%]   .sport-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ea580c,#b9460a)}.sport-mma[_ngcontent-%COMP%]   .sport-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7c3aed,#5f14e0)}.sport-muaythai[_ngcontent-%COMP%]   .sport-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0891b2,#066981)}.sport-bjj[_ngcontent-%COMP%]   .sport-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#059669,#036546)}.course-card[_ngcontent-%COMP%]:hover   .sport-badge[_ngcontent-%COMP%]{transform:scale(1.05) rotate(5deg)}.sport-icon[_ngcontent-%COMP%]{font-size:32px}.sport-label[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#0000000a;border-radius:9999px;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#4a5568}.card-body[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem}.course-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1a1d21;margin:0 0 1rem}.instructor-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;background:#3066be0d;border-radius:.5rem;margin-bottom:1rem}.instructor-icon[_ngcontent-%COMP%]{font-size:18px;opacity:.7}.instructor-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1a1d21}.course-description[_ngcontent-%COMP%]{font-size:.875rem;color:#4a5568;margin:0 0 1.25rem;line-height:1.6}.course-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.stat-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:#00000005;border-radius:.5rem}.stat-icon[_ngcontent-%COMP%]{font-size:16px;opacity:.7}.stat-text[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:#1a1d21}.card-footer[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:1.25rem 1.5rem 1.5rem;border-top:1px solid rgba(0,0,0,.08);background:#00000003}.action-btn[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem;border:2px solid rgba(0,0,0,.08);background:#fff;border-radius:.5rem;font-size:.875rem;font-weight:700;color:#1a1d21;cursor:pointer;transition:all .3s}.action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.action-btn.view[_ngcontent-%COMP%]:hover{border-color:#3066be;background:#3066be0d;color:#3066be;transform:translateY(-2px)}.action-btn.edit[_ngcontent-%COMP%]:hover{border-color:#e71d36;background:#e71d360d;color:#e71d36;transform:translateY(-2px)}.action-btn.delete[_ngcontent-%COMP%]:hover{border-color:#dc2626;background:#dc26260d;color:#dc2626;transform:translateY(-2px)}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center;background:#fff6;border:2px dashed rgba(0,0,0,.08);border-radius:1rem}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:1.25rem;opacity:.5}.empty-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1a1d21;margin:0 0 .5rem}.empty-message[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568;margin:0 0 1.5rem;max-width:400px}@media(max-width:768px){.courses-container[_ngcontent-%COMP%]{padding:1rem}.header-top[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}.header-top[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{width:100%}.courses-grid[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.card-footer[_ngcontent-%COMP%]{flex-direction:column}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.course-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .4s ease-out backwards}.course-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.05s}.course-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.1s}.course-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.15s}.course-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.2s}.course-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.25s}.course-card[_ngcontent-%COMP%]:nth-child(6){animation-delay:.3s}.course-card[_ngcontent-%COMP%]:nth-child(7){animation-delay:.35s}.course-card[_ngcontent-%COMP%]:nth-child(8){animation-delay:.4s}.course-card[_ngcontent-%COMP%]:nth-child(9){animation-delay:.45s}.course-card[_ngcontent-%COMP%]:nth-child(10){animation-delay:.5s}.course-card[_ngcontent-%COMP%]:nth-child(11){animation-delay:.55s}.course-card[_ngcontent-%COMP%]:nth-child(12){animation-delay:.6s}']})};export{G as CoursesComponent};
