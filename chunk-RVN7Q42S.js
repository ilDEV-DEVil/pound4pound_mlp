import{a as d}from"./chunk-DO7T4SEG.js";import{a as u}from"./chunk-2L2WFLXW.js";import{J as h,O as m,j as a,y as s}from"./chunk-62IWQYBS.js";var p=class i{storage=m(u);mockData=m(d);constructor(){this.ensureData()}ensureData(){if(!this.storage.getItem("members")){let e=this.generateMockMembers(15);this.storage.setItem("members",e)}}getMembers(){let e=this.storage.getItem("members")||[];return a(e).pipe(s(500))}getMemberById(e){let r=(this.storage.getItem("members")||[]).find(o=>o.id===e);return a(r).pipe(s(300))}addMember(e){let t=this.storage.getItem("members")||[],r={id:`m-${Date.now()}`,gymId:"gym-001",userId:`u-${Date.now()}`,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,avatar:null,subscriptionId:e.subscriptionId||null,enrolledCourses:[],joinedAt:new Date};return t.unshift(r),this.storage.setItem("members",t),a(r).pipe(s(600))}generateMockMembers(e){let t=["Marco","Luca","Giulia","Sofia","Matteo","Alessandro","Francesca","Chiara"],r=["Rossi","Bianchi","Ferrari","Esposito","Ricci","Marino","Greco","Bruno"],o=["gmail.com","outlook.it","yahoo.com","libero.it"],n=this.storage.getItem("subscriptions")||this.mockData.getInitialSubscriptions();return Array.from({length:e}).map((f,c)=>{let l=t[Math.floor(Math.random()*t.length)],b=r[Math.floor(Math.random()*r.length)],M=Math.random()>.3?n[Math.floor(Math.random()*n.length)]:null;return{id:`m-mock-${c}`,gymId:"gym-001",userId:`u-mock-${c}`,firstName:l,lastName:b,email:`${l.toLowerCase()}.${b.toLowerCase()}@${o[Math.floor(Math.random()*o.length)]}`,phone:`3${Math.floor(Math.random()*9)}0 1234567`,avatar:null,subscriptionId:M?M.id:null,enrolledCourses:[],joinedAt:new Date(2025,Math.floor(Math.random()*12),Math.floor(Math.random()*28))}})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=h({token:i,factory:i.\u0275fac,providedIn:"root"})};export{p as a};
