import{a as y}from"./chunk-2L2WFLXW.js";import{J as l,O as p,a as m,j as i,y as a}from"./chunk-62IWQYBS.js";var g=class n{storage=p(y);constructor(){this.ensureData()}ensureData(){if(!this.storage.getItem("courses")){let e=this.generateMockCourses();this.storage.setItem("courses",e)}}getCourses(){let e=this.storage.getItem("courses")||[];return i(e).pipe(a(500))}addCourse(e){let t=this.storage.getItem("courses")||[],r={id:`c-${Date.now()}`,gymId:"gym-001",name:e.name,description:e.description||"",instructor:e.instructor,sport:e.sport||"boxing",maxCapacity:e.maxCapacity||20,schedule:e.schedule||[],enrolledMembers:[]};return t.push(r),this.storage.setItem("courses",t),i(r).pipe(a(600))}deleteLesson(e,t,r){let s=this.storage.getItem("courses")||[],d=e.replace("course-","c-"),c=s.findIndex(o=>o.id===e||o.id===d);if(c!==-1){let o=s[c],C=o.schedule.length;return o.schedule=o.schedule.filter(u=>!(u.day===t&&u.startTime===r)),this.storage.setItem("courses",s),i(!0).pipe(a(500))}return i(!1).pipe(a(500))}updateCourse(e,t){let r=this.storage.getItem("courses")||[],s=r.findIndex(d=>d.id===e);return s!==-1?(r[s]=m(m({},r[s]),t),this.storage.setItem("courses",r),i(r[s]).pipe(a(500))):i(null).pipe(a(500))}bookClass(e,t,r){return i(!0).pipe(a(800))}generateMockCourses(){return[{id:"c-001",gymId:"gym-001",name:"Boxe Principianti",description:"Corso base per imparare i fondamenti della nobile arte.",instructor:"Marco Rossi",sport:"boxing",maxCapacity:20,enrolledMembers:[],schedule:[{day:"monday",startTime:"18:00",endTime:"19:00"},{day:"wednesday",startTime:"18:00",endTime:"19:00"},{day:"friday",startTime:"18:00",endTime:"19:00"}]},{id:"c-002",gymId:"gym-001",name:"MMA Pro",description:"Allenamento avanzato per competizioni.",instructor:"Giulia Neri",sport:"mma",maxCapacity:12,enrolledMembers:[],schedule:[{day:"tuesday",startTime:"19:30",endTime:"21:00"},{day:"thursday",startTime:"19:30",endTime:"21:00"}]},{id:"c-003",gymId:"gym-001",name:"Muay Thai",description:"L'arte delle 8 armi.",instructor:"Andrea Verdi",sport:"muaythai",maxCapacity:15,enrolledMembers:[],schedule:[{day:"monday",startTime:"19:00",endTime:"20:30"},{day:"wednesday",startTime:"19:00",endTime:"20:30"},{day:"friday",startTime:"19:00",endTime:"20:30"}]},{id:"c-004",gymId:"gym-001",name:"Grappling / BJJ no-gi",description:"Lotta a terra senza kimono.",instructor:"Simone Bianchi",sport:"bjj",maxCapacity:15,enrolledMembers:[],schedule:[{day:"tuesday",startTime:"18:00",endTime:"19:30"},{day:"thursday",startTime:"18:00",endTime:"19:30"},{day:"saturday",startTime:"10:30",endTime:"12:00"}]}]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=l({token:n,factory:n.\u0275fac,providedIn:"root"})};export{g as a};
